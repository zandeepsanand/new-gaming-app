"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[444],{9444:(E,h,o)=>{o.r(h),o.d(h,{AdminModule:()=>k});var s=o(6895),_=o(6150),l=o(6564),u=o(8505),t=o(1571),a=o(4004),f=o(2340),g=o(529);let c=(()=>{class n{constructor(e){this.http=e,this.host=f.N.apiUrl}getDashboardDetails(){return this.http.get(`${this.host}/admin/user-stats`).pipe((0,a.U)(e=>e.data))}getProRequestUsers(){return this.http.get(`${this.host}/admin/pro-request/users`).pipe((0,a.U)(e=>e.data.users))}activateProRequestUser(e){return this.http.patch(`${this.host}/admin/pro-request/user/${e}/activate`,{}).pipe((0,a.U)(r=>r.data))}getWithdrawRequests(){return this.http.get(`${this.host}/admin/pro-request/withdraw/requests`).pipe((0,a.U)(e=>e.data))}acceptWithdrawRequests(e){return this.http.patch(`${this.host}/admin/pro-request/withdraw/requests/${e}`,{}).pipe((0,a.U)(r=>r.data))}getSubscriberUsers(){return this.http.get(`${this.host}/admin/subscriber-list`).pipe((0,a.U)(e=>e.data))}getProUsers(){return this.http.get(`${this.host}/admin/pro-list`).pipe((0,a.U)(e=>e.data))}getProEarnings(){return this.http.get(`${this.host}/admin/earnings`)}getProfile(e){return this.http.post(`${this.host}/admin/pro-request/user/${e}/activate`,{}).pipe((0,a.U)(r=>r.data))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",6)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Subscriber"),t.qZA(),t.TgZ(6,"h6",7),t._uU(7,"Number of users subscribed"),t.qZA(),t.TgZ(8,"p",5),t._uU(9),t.qZA()()(),t.TgZ(10,"div",2)(11,"div",3)(12,"h5",4),t._uU(13,"Pro Users"),t.qZA(),t.TgZ(14,"h6",7),t._uU(15,"Number of pro users"),t.qZA(),t.TgZ(16,"p",5),t._uU(17),t.qZA()()(),t.TgZ(18,"div",2)(19,"div",3)(20,"h5",4),t._uU(21,"Pro Requests"),t.qZA(),t.TgZ(22,"h6",7),t._uU(23,"Number of pro requests"),t.qZA(),t.TgZ(24,"p",5),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",8)(27,"div",9),t._UZ(28,"canvas",10),t.qZA()(),t.BQk()),2&n){const e=i.ngIf,r=t.oxw();t.xp6(9),t.Oqu(e.subscriber),t.xp6(8),t.Oqu(e.proUsers),t.xp6(8),t.Oqu(e.proRequest),t.xp6(3),t.Q6J("data",r.pieChartData)("type",r.pieChartType)("options",r.pieChartOptions)("plugins",r.pieChartPlugins)}}let q=(()=>{class n{constructor(e){this.adminService=e,this.stats$=null,this.proEarning=0,this.pieChartOptions={responsive:!0,plugins:{legend:{display:!0,position:"top"}}},this.pieChartData={labels:["Subscribers","Pro Users","Pro Requests"],datasets:[{data:[0,0,0]}]},this.pieChartType="pie",this.pieChartPlugins=[]}ngOnInit(){this.stats$=this.adminService.getDashboardDetails().pipe((0,u.b)(e=>{this.pieChartData.datasets[0]={data:[e.subscriber,e.proUsers,e.proRequest]}})),this.adminService.getProEarnings().subscribe(e=>{console.log(e),this.proEarning=e.data})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,r){if(1&e&&t.Gf(l.jh,5),2&e){let p;t.iGM(p=t.CRH())&&(r.chart=p.first)}},decls:16,vars:4,consts:[[1,"container"],[4,"ngIf"],[1,"col","m-2","card","text-bg-dark","text-center"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"row"],[1,"card-subtitle","mb-2","text-muted"],[1,"row","my-4"],[1,"col-12","col-lg-5","col-md-6"],["baseChart","",3,"data","type","options","plugins"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,v,29,7,"ng-container",1),t.ALo(2,"async"),t.TgZ(3,"div",2)(4,"div",3)(5,"h1",4),t._uU(6,"TOTAL PRO USERS EARNINGS"),t.qZA(),t.TgZ(7,"h2",5)(8,"b"),t._uU(9),t.qZA()()()(),t.TgZ(10,"div",2)(11,"div",3)(12,"h1",4),t._uU(13,"GGERA ACCOUNT BALANCE"),t.qZA(),t.TgZ(14,"h2",5),t._UZ(15,"b"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,r.stats$)),t.xp6(8),t.Oqu(r.proEarning))},dependencies:[s.O5,l.jh,s.Ov]}),n})();function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"button",12),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.getProfile(d._id))}),t._uU(3,"VIEW PROFILE"),t.qZA(),t.TgZ(4,"h5",13),t._uU(5),t.qZA(),t.TgZ(6,"h6",14),t._uU(7),t.qZA(),t.TgZ(8,"p",15),t._uU(9),t.qZA(),t.TgZ(10,"p",15),t._uU(11),t.qZA(),t.TgZ(12,"p",15),t._uU(13),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(5),t.hij("NAME:\xa0",e.username,""),t.xp6(2),t.hij("GAMER ID:\xa0",e.gamerID,""),t.xp6(2),t.hij("KD:\xa0",e.kd,""),t.xp6(2),t.hij("KILLS:\xa0",e.kills,""),t.xp6(2),t.hij("PLATFORM:\xa0",e.platform,"")}}function b(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8),t.YNc(2,A,14,5,"div",9),t.qZA(),t.BQk()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}let U=(()=>{class n{constructor(e){this.adminservice=e}ngOnInit(){this.proUsers$=this.adminservice.getProUsers().pipe((0,u.b)(e=>{console.log(e)}))}getProfile(e){this.adminservice.getProfile(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pro-list"]],decls:21,vars:3,consts:[[1,"container"],[4,"ngIf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item","disabled"],["href","#","tabindex","-1",1,"page-link"],[1,"page-item"],["href","#",1,"page-link"],[1,"row","g-6"],["class","col-5 m-5 card text-bg-dark",4,"ngFor","ngForOf"],[1,"col-5","m-5","card","text-bg-dark"],[1,"card-body"],[1,"btn","btn-warning","mb-2",3,"click"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,b,3,1,"ng-container",1),t.ALo(2,"async"),t.TgZ(3,"div")(4,"nav",2)(5,"ul",3)(6,"li",4)(7,"a",5),t._uU(8,"Previous"),t.qZA()(),t.TgZ(9,"li",6)(10,"a",7),t._uU(11,"1"),t.qZA()(),t.TgZ(12,"li",6)(13,"a",7),t._uU(14,"2"),t.qZA()(),t.TgZ(15,"li",6)(16,"a",7),t._uU(17,"3"),t.qZA()(),t.TgZ(18,"li",6)(19,"a",7),t._uU(20,"Next"),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,r.proUsers$)))},dependencies:[s.sg,s.O5,s.Ov]}),n})();var T=o(5226),Z=o.n(T);function x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h5",6),t._uU(3),t.qZA(),t.TgZ(4,"h6",7),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"p",8),t._uU(8),t.qZA(),t.TgZ(9,"a",9),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.activateUser(d._id))}),t._uU(10,"Activate"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(3),t.Oqu(e.username),t.xp6(2),t.Oqu(t.lcZ(6,3,e.provider)),t.xp6(3),t.Oqu(e.email)}}function C(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,x,11,5,"div",3),t.qZA(),t.BQk()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}function P(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",7),t.NdJ("click",function(){t.CHM(e);const p=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.approveRequest(p._id))}),t._uU(2,"Approve"),t.qZA(),t.BQk()}}function y(n,i){1&n&&(t.TgZ(0,"small"),t._uU(1,"Approved"),t.qZA())}function w(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,P,3,0,"ng-container",5),t.YNc(7,y,2,0,"ng-template",null,6,t.W1O),t.qZA()()),2&n){const e=i.$implicit,r=t.MAs(8);t.xp6(2),t.Oqu(e.orderNo),t.xp6(2),t.Oqu(e.amount),t.xp6(2),t.Q6J("ngIf",!e.isApproved)("ngIfElse",r)}}function O(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Withdraw Requests"),t.qZA()()(),t.TgZ(5,"table",3)(6,"thead")(7,"th"),t._uU(8,"Request Id"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Amount"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Action"),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,w,9,4,"tr",4),t.qZA()(),t.BQk()),2&n){const e=i.ngIf;t.xp6(14),t.Q6J("ngForOf",e)}}function S(n,i){if(1&n&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h5",12),t._uU(3),t.qZA(),t.TgZ(4,"h6",13),t._uU(5),t.qZA(),t.TgZ(6,"p",14),t._uU(7),t.qZA(),t.TgZ(8,"p",14),t._uU(9),t.qZA(),t.TgZ(10,"p",14),t._uU(11),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(3),t.hij("NAME:\xa0",e.username,""),t.xp6(2),t.hij("GAMER ID:\xa0",e.gamerID,""),t.xp6(2),t.hij("KD:\xa0",e.kd,""),t.xp6(2),t.hij("KILLS:\xa0",e.kills,""),t.xp6(2),t.hij("PLATFORM:\xa0",e.platform,"")}}function L(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8),t.YNc(2,S,12,5,"div",9),t.qZA(),t.BQk()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("ngForOf",e)}}const $=[{path:"dashboard",component:q},{path:"pre-request",component:(()=>{class n{constructor(e){this.adminService=e}ngOnInit(){this.getUsers()}getUsers(){this.proUsers$=this.adminService.getProRequestUsers()}activateUser(e){this.adminService.activateProRequestUser(e).pipe((0,u.b)(r=>{Z().fire({icon:"success",title:"Activated successfully",showConfirmButton:!1,timer:1500}).then(()=>{this.getUsers()})})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pro-request"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"row","g-6"],["class","col-4 m-2 card text-bg-dark",4,"ngFor","ngForOf"],[1,"col-4","m-2","card","text-bg-dark"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"],[1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,C,3,1,"ng-container",1),t.ALo(2,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,r.proUsers$)))},dependencies:[s.sg,s.O5,s.Ov,s.rS]}),n})()},{path:"withdraw-request",component:(()=>{class n{constructor(e){this.adminService=e}ngOnInit(){this.updateRequest()}updateRequest(){this.withdrawRequest$=this.adminService.getWithdrawRequests()}approveRequest(e){this.adminService.acceptWithdrawRequests(e).pipe((0,u.b)(()=>{Z().fire({icon:"success",title:"Request Accepted",showConfirmButton:!1,timer:1500}),this.updateRequest()})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pro-user-withdraw-request"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"table","table-dark","table-striped-columns"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["approved",""],[1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(t.YNc(0,O,15,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,r.withdrawRequest$))},dependencies:[s.sg,s.O5,s.Ov]}),n})()},{path:"subscriber-list",component:(()=>{class n{constructor(e){this.adminservice=e}ngOnInit(){this.subUsers$=this.adminservice.getSubscriberUsers().pipe((0,u.b)(e=>{console.log(e)}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-subscriber-list"]],decls:21,vars:3,consts:[[1,"container"],[4,"ngIf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item","disabled"],["href","#","tabindex","-1",1,"page-link"],[1,"page-item"],["href","#",1,"page-link"],[1,"row","g-6"],["class","col-5 m-5 card text-bg-dark",4,"ngFor","ngForOf"],[1,"col-5","m-5","card","text-bg-dark"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,L,3,1,"ng-container",1),t.ALo(2,"async"),t.TgZ(3,"div")(4,"nav",2)(5,"ul",3)(6,"li",4)(7,"a",5),t._uU(8,"Previous"),t.qZA()(),t.TgZ(9,"li",6)(10,"a",7),t._uU(11,"1"),t.qZA()(),t.TgZ(12,"li",6)(13,"a",7),t._uU(14,"2"),t.qZA()(),t.TgZ(15,"li",6)(16,"a",7),t._uU(17,"3"),t.qZA()(),t.TgZ(18,"li",6)(19,"a",7),t._uU(20,"Next"),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,r.subUsers$)))},dependencies:[s.sg,s.O5,s.Ov]}),n})()},{path:"pro-list",component:U},{path:"",pathMatch:"full",redirectTo:"dashboard"}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild($),_.Bz]}),n})();var N=o(9532);let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:g.TP,useClass:N.z,multi:!0},c],imports:[s.ez,l.vQ,g.JF,F]}),n})()}}]);